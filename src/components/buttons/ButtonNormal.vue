<template>
  <span ref='container' tabindex="0">
    <!-- ğŸ˜• v-show å¿…é¡»ç»‘å®šåœ¨æœ¬ç»„ä»¶çš„æ•°æ®ä¸Š -->
    <button v-if='show' class='delete-button-in-button' @click='needsDelete'>+</button>
    <slot />
  </span>
</template>

<script>
import * as THREE from 'three'

export default {
  props: {
    'withDeleteButton': Boolean,
    'id': [String, Number],
  },
  data() {
    return {
      show: this.withDeleteButton
    }
  },
  mounted() {
  },
  methods: {
    needsDelete() {
      this.$emit('deleted', this.id || this.$slots.default[0].text.trim())
    }
  }
}
</script>

<style lang="scss" scoped>
/** å®šä¹‰åœ¨ span ä¸Šæœ‰ä¸€ä¸ªå¥½å¤„, è¿™ä¸ªæ ·å¼æå…¶å®¹æ˜“è¢«è¦†ç›–, æˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°åœ¨å¤–éƒ¨æ”¹å†™ç»„ä»¶ */
span {
  min-width: 3em;
  
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  
  /** inline-flex æ²¡åŠæ³•å’Œ text-overflow è‰¯å¥½åˆä½œ */
  // display: inline-flex;
  
  flex-wrap: nowrap;
  justify-items: center;
  align-items: center;
  border-radius: 4px;
  color: white;
  background: #009588;
  overflow: hidden;
  cursor: pointer;
  &:hover, &:focus {
    background: #4db6ac;
  }
  &:active {
    background: #00695c;
  }
  // é€šè¿‡ em æˆ‘ä»¬å¯ä»¥ä½¿ æŒ‰é’®çš„è¾¹è· å§‹ç»ˆç›¸è¾ƒäº æŒ‰é’®æœ¬èº«å¤§å° åˆé€‚
  padding: 0.1em 0.6em 0.1em 0.6em;
}
.delete-button-in-button {
  padding: 0;
  color: white;
  background: transparent;
  outline: none;
  border: none;
  // margin: 0.2em;
  text-align: center;
  width: 1em;
  height: 1em;
  line-height: 1em;
  font-size: 1em;
  font-family: 'Roboto';
  border-radius: 999px;
  transform: rotate(45deg);
  box-shadow: none;
  &:hover {
    background: white;
    color: #00695c;
  }
  &:active {
    background: #FFFFFF33;
    color: #EEE;
  }
}
</style>

<style>
</style>